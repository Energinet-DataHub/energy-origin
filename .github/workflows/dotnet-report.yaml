  name: Dotnet Report

  on:
    workflow_call:
      inputs:
        dry-run:
          description: "An indication of whether to commit/publish results"
          required: true
          type: string
        is-dependabot:
          description: "An indication of a dependabot pull request"
          required: true
          type: string

  jobs:
    report:
      runs-on: ubuntu-latest

      steps:
        - name: Download test results
          uses: actions/download-artifact@v4
          with:
            name: test-results

        - name: Parse TRX results
          uses: dorny/test-reporter@v1
          with:
            name: Test Results
            artifact: test-results
            path: "**/*.trx"
            reporter: dotnet-trx
            fail-on-error: true
