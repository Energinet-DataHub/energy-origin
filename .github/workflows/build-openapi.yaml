name: generate openapi spec

on: [push, pull_request]

jobs:
  build-and-run:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

#      - name: Setup .NET
#        uses: actions/setup-dotnet@v4
#
#      - name: Restore dependencies
#        run: dotnet restore

      - name: Build and run certificates.csproj with --swagger
        run: dotnet run --project domains/certificates/Query.API/API/API.csproj --swagger

      - name: Build and run proxy.csproj with --swagger
        run: dotnet run --project domains/authorization/Proxy/Proxy.csproj --swagger
