name: Yaml get
description: Gets the value from the yaml_path in a yaml file.

inputs:
  yaml_file:
    description: Path to the yaml file to modify
    required: true
  yaml_path:
    description: Where the target value is found
    required: true

outputs:
  result:
    description: The result of the yaml get query
    value: ${{ steps.get.outputs.result }}

runs:
  using: composite
  steps:
    - name: Read vaule
      id: get
      shell: bash
      run: echo "result=$(yq '.${{ inputs.yaml_path }}' < '${{ inputs.yaml_file }}')" >> $GITHUB_OUTPUT
