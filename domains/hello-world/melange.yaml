package:
  name: hello-world
  version: 0.1.0
  description: |
    A minimal Hello, World! package. Installs a shell script under
    /usr/local/bin/hello which prints “Hello, world!”.
  target-architecture:
    - x86_64
  copyright:
    - license: MIT
  dependencies:
    runtime:
      - busybox

environment:
  contents:
    keyring:
      - https://packages.wolfi.dev/os/wolfi-signing.rsa.pub
    repositories:
      - https://packages.wolfi.dev/os
    packages:
      - busybox
      - ca-certificates-bundle

pipeline:
  - name: Create “hello” script
    runs: |
      # Create destination directories under the target rootfs
      mkdir -p "${{targets.destdir}}/usr/local/bin"

      # Write a shell script at /usr/local/bin/hello
      cat << 'EOF' > "${{targets.destdir}}/usr/local/bin/hello"
      #!/bin/sh
      echo "Hello, world!"
      EOF

      # Mark it executable
      chmod +x "${{targets.destdir}}/usr/local/bin/hello"
